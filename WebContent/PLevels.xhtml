<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>IGNORED!</title>
</h:head>

<h:body>
    <ui:composition template="/templates/MasterLayout.xhtml">

		<ui:define name="windowTitle">Timesheets</ui:define>
		<ui:define name="headerTitle">
			<h:outputText value="Timesheets" class="navbar-brand" />
		</ui:define>
		
        <ui:define name="content">
			<h:form id="formMain">
				<p:commandButton id="addButton" value="Add PLevel"
					onclick="PF('addPLevelDialog').show();" />

				<p:dataTable id="pLevelTable"
                    value="#{pLevelController.pLevels}" var="pLevel">
                    <p:column headerText="PLevel">
                        <h:outputText value="#{pLevel.pLevelPK.pLevel}" />
                    </p:column>
                    <p:column headerText="StartDate">
                        <h:outputText value="#{pLevel.pLevelPK.startDate}" />
                    </p:column>
                    <p:column headerText="Wage">
                        <h:outputText value="#{pLevel.wage}" />
                    </p:column>
                    <p:column headerText="Edit">
                        <p:commandButton value="Edit" update=":#{p:component('editDialog')}"
                            action="#{pLevelController.setEditPLevel(pLevel)}" />
                    </p:column>
                </p:dataTable>
			</h:form>
            <p:dialog id="editDialog" header="Edit PLevel" modal="true"
                width="400" widgetVar="editPLevelDialog" resizable="false"
                draggable="false">
                <h:form id="formEditDialog">
                    <h:panelGrid columns="1">
                        <h:outputText value="PLEVEL" />
                        <h:inputText binding="#{editPLevel}"
                            value="#{pLevelController.editPLevel.pLevelPK.pLevel}" />
        
                        <h:outputText value="StartDate" />
                        <h:inputText binding="#{editStartDate}"
                            value="#{pLevelController.editPLevel.pLevelPK.startDate}" />
        
                        <h:outputText value="Wage" />
                        <h:inputText binding="#{editWage}"
                            value="#{pLevelController.editPLevel.wage}" />
                    </h:panelGrid>
                </h:form>
            </p:dialog>
		</ui:define>
    </ui:composition>
</h:body>
</html>