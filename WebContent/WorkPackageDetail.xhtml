<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>IGNORED!</title>
	<style>
</style>
</h:head>


<h:body>
	<ui:composition template="/templates/MasterLayout.xhtml">

		<ui:define name="windowTitle">Projects</ui:define>
		<ui:define name="headerTitle">
			<h:outputText value="Work Package Detail" class="navbar-brand" />
		</ui:define>
		<ui:define name="navBar">
			<ui:include src="/sections/WorkPackageManagementNavigationBar.xhtml" />
		</ui:define>

		<ui:define name="content">
			<p:panel id="basic" header="Work Package Detail" footer=""
				style="margin-left:50px; margin-right:50px;">

				<h:form id="form">
					<p:growl id="messageGrowl" showDetail="true" sticky="false" />

					<table id="table" class="table table-bordered">
						<tbody>
							<tr>
								<td scope="row"><p:outputLabel value="Project Number" /></td>
								<td><h:outputText value="#{wpdController.wp.proNo}" /></td>
								<td style="border: 1px solid white;"><p:commandLink
										ajax="true" update=":form"
										action="#{wpdController.toggleEditable()}"
										rendered="#{!wpdController.editable}">
										<h:graphicImage value="resources/images/edit.png"
											style="max-width:20px; max-height:20px" /> Edit
									</p:commandLink></td>
							</tr>
							<tr>
								<td scope="row"><p:outputLabel value="Parent ID" /></td>
								<td><h:outputText value="#{wpdController.wp.parentWPID}" /></td>
								<td style="border: 1px solid white;"><p:commandLink
										ajax="true" update=":form" action="#{wpdController.save()}"
										rendered="#{wpdController.editable}">
										<h:graphicImage value="resources/images/submit.png"
											style="max-width:20px; max-height:20px" /> Submit
									</p:commandLink></td>

							</tr>
							<tr>
								<td scope="row"><p:outputLabel value="Leaf Work Package" /></td>
								<td><h:outputText value="#{wpdController.wp.leaf}" /></td>
								<td style="border: 1px solid white;"><p:commandLink
										ajax="true" update=":form"
										action="#{wpdController.toggleEditable()}"
										rendered="#{wpdController.editable}">
										<h:graphicImage value="resources/images/cancel.png"
											style="max-width:20px; max-height:20px" /> Cancel
									</p:commandLink></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Charged Status" /></td>
								<td><h:outputText value="#{!wpdController.wp.editable}" /></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Work Package ID" /></td>
								<td><p:inputText value="#{wpdController.wp.wpid}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.wpid}"
										rendered="#{!wpdController.wpEditable}" /></td>
							</tr>



							<tr>
								<td scope="row"><p:outputLabel value="Responsible Employee" /></td>
								<td><h:selectOneMenu
										value="#{wpdController.editwp.reEmpNo}"
										rendered="#{wpdController.wpEditable}">
										<f:selectItems value="#{wpdController.empPool}" var="emp"
											itemLabel="#{emp.userName}" itemValue="#{emp.empNumber}"
											style="color:black" />

									</h:selectOneMenu> <h:outputText value="#{wpdController.wp.reEmpNo}"
										rendered="#{!wpdController.wpEditable}" /></td>


							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Title" /></td>
								<td><p:inputText value="#{wpdController.editwp.title}"
										label="text" rendered="#{wpdController.editable}" /> <h:outputText
										value="#{wpdController.wp.title}"
										rendered="#{!wpdController.editable}" /></td>
							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Start Date" /></td>
								<td><p:calendar id="start"
										value="#{wpdController.editwp.startDate}"
										rendered="#{wpdController.wpEditable}" /> <h:outputText
										rendered="#{!wpdController.wpEditable}"
										value="#{wpdController.wp.startDate}">
										<f:convertDateTime pattern="dd-MM-yyyy" />
									</h:outputText></td>
							</tr>


							<tr>
								<td scope="row"><p:outputLabel value="End Date" /></td>
								<td><p:calendar id="end"
										value="#{wpdController.editwp.endDate}"
										rendered="#{wpdController.wpEditable}" /> <h:outputText
										rendered="#{!wpdController.wpEditable}"
										value="#{wpdController.wp.endDate}">
										<f:convertDateTime pattern="dd-MM-yyyy"
											rendered="#{!wpdController.editable}" />
									</h:outputText></td>
							</tr>



							<tr>
								<td scope="row"><p:outputLabel value="Description" /></td>
								<td><p:inputTextarea
										value="#{wpdController.editwp.description}" label="text"
										rendered="#{wpdController.editable}" /> <h:outputText
										rendered="#{!wpdController.editable}"
										value="#{wpdController.wp.description}" /></td>
							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="State" /></td>
								<td><h:selectOneMenu value="#{wpdController.editwp.state}"
										rendered="#{wpdController.editable}">
										<f:selectItems value="#{wpdController.status}" />
									</h:selectOneMenu> <h:outputText value="#{wpdController.wp.state}"
										rendered="#{!wpdController.editable}" /></td>
							</tr>
							<tr>
								<td scope="row"><p:outputLabel value="Comment" /></td>
								<td><p:inputTextarea
										value="#{wpdController.editwp.comment}" label="text"
										rendered="#{wpdController.editable}" /> <h:outputText
										value="#{wpdController.wp.comment}"
										rendered="#{!wpdController.editable}" /></td>
							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Labour Level" /></td>
								<td scope="row"><p:outputLabel value="Estimated Man Day" /></td>
								<td scope="row"><p:outputLabel value="Estimated Budget" /></td>

							</tr>


							<tr>
								<td scope="row"><p:outputLabel value="Project Manager P1" /></td>
								<td><p:inputText value="#{wpdController.wp.pmEstP1}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.pmEstP1}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.pmEstP1,'P1')}" /></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Project Manager P2" /></td>
								<td><p:inputText value="#{wpdController.wp.pmEstP2}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.pmEstP2}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.pmEstP2,'P2')}" /></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Project Manager P3" /></td>
								<td><p:inputText value="#{wpdController.wp.pmEstP3}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.pmEstP3}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.pmEstP3,'P3')}" /></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Project Manager P4" /></td>
								<td><p:inputText value="#{wpdController.wp.pmEstP4}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.pmEstP4}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.pmEstP4,'P4')}" /></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Project Manager P5" /></td>
								<td><p:inputText value="#{wpdController.wp.pmEstP5}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.pmEstP5}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.pmEstP5, 'P5')}" /></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Project Manager P6" /></td>
								<td><p:inputText value="#{wpdController.wp.pmEstP6}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.pmEstP6}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.pmEstP6, 'P6')}" /></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Project Manager DS" /></td>
								<td><p:inputText value="#{wpdController.wp.pmEstDS}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.pmEstDS}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.pmEstDS, 'DS')}" /></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Project Manager SS" /></td>
								<td><p:inputText value="#{wpdController.wp.pmEstSS}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.pmEstSS}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.pmEstSS, 'SS')}" /></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel value="Project Manager JS" /></td>
								<td><p:inputText value="#{wpdController.wp.pmEstJS}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.pmEstJS}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.pmEstJS, 'JS')}" /></td>

							</tr>

							<tr>
								<td scope="row"><p:outputLabel
										value="Responsible Employee P1" /></td>
								<td><p:inputText value="#{wpdController.wp.reEstP1}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.reEstP1}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.reEstP1,'P1')}" /></td>

							</tr>
							<tr>
								<td scope="row"><p:outputLabel
										value="Responsible Employee P2" /></td>
								<td><p:inputText value="#{wpdController.wp.reEstP2}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.reEstP2}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.reEstP2,'P2')}" /></td>

							</tr>
							<tr>
								<td scope="row"><p:outputLabel
										value="Responsible Employee P3" /></td>
								<td><p:inputText value="#{wpdController.wp.reEstP3}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.reEstP3}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.reEstP3,'P3')}" /></td>

							</tr>
							<tr>
								<td scope="row"><p:outputLabel
										value="Responsible Employee P4" /></td>
								<td><p:inputText value="#{wpdController.wp.reEstP4}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.reEstP4}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.reEstP4,'P4')}" /></td>

							</tr>
							<tr>
								<td scope="row"><p:outputLabel
										value="Responsible Employee P5" /></td>
								<td><p:inputText value="#{wpdController.wp.reEstP5}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.reEstP5}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.reEstP5, 'P5')}" /></td>

							</tr>
							<tr>
								<td scope="row"><p:outputLabel
										value="Responsible Employee P6" /></td>
								<td><p:inputText value="#{wpdController.wp.reEstP6}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.reEstP6}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.reEstP6,'P6')}" /></td>

							</tr>
							<tr>
								<td scope="row"><p:outputLabel
										value="Responsible Employee DS" /></td>
								<td><p:inputText value="#{wpdController.wp.reEstDS}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.reEstDS}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.reEstDS, 'DS')}" /></td>

							</tr>
							<tr>
								<td scope="row"><p:outputLabel
										value="Responsible Employee SS" /></td>
								<td><p:inputText value="#{wpdController.wp.reEstSS}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.reEstSS}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.reEstSS, 'SS')}" /></td>

							</tr>
							<tr>
								<td scope="row"><p:outputLabel
										value="Responsible Employee JS" /></td>
								<td><p:inputText value="#{wpdController.wp.reEstJS}"
										label="text" rendered="#{wpdController.wpEditable}" /> <h:outputText
										value="#{wpdController.wp.reEstJS}"
										rendered="#{!wpdController.wpEditable}" /></td>
								<td scope="row"><p:outputLabel
										value="#{wpdController.getBudgetByPLevel(wpdController.wp.reEstJS, 'JS')}" /></td>

							</tr>





						</tbody>
					</table>
				</h:form>


				<p:dialog position="center" id="add" header="Add Employee"
					modal="true" width="400" hight="100" widgetVar="addEmpDialog">
					<h2 style="font-weight: normal">Add Employee</h2>

					<p:messages id="messages" showDetail="true" closable="true">
						<p:autoUpdate />
					</p:messages>

					<h:form id="formAddDialog">
						<table class="table">
							<tbody>
								<tr>
									<td><h:outputText value="Employee Number" /></td>
									<td><h:inputText id="addEmpNo" binding="#{addEmpNoText}" /></td>
								</tr>
								<tr>
									<td><h:outputText id="addFirstName" value="First Name" /></td>
									<td><h:inputText binding="#{addFirstNameText}" /></td>
								</tr>
								<tr>
									<td><h:outputText id="addlastName" value="Last Name" /></td>
									<td><h:inputText binding="#{addLastNameText}" /></td>
								</tr>
								<tr>
									<td><h:outputText id="addUsername" value="Username" /></td>
									<td><h:inputText binding="#{addUsernameText}" /></td>
								</tr>
								<tr>
									<td><h:outputText id="addPassword" value="Password" /></td>
									<td><h:inputText binding="#{addPasswordText}" /></td>
								</tr>
								<tr>
									<td><h:outputText id="addSupervisor" value="Supervisor" /></td>
									<td><h:selectOneMenu binding="#{addSupervisorText}">
											<f:selectItems value="#{employeesController.employees}"
												var="e" itemLabel="#{e.userName}" itemValue="#{e.empNumber}" />
										</h:selectOneMenu></td>
								</tr>
								<tr>
									<td><h:outputText id="addComment" value="Comment" /></td>
									<td><h:inputText binding="#{addCommentText}" /></td>
								</tr>

							</tbody>
						</table>


					</h:form>
				</p:dialog>

				<p:dataTable id="emp" var="emp" widgetVar="emp"
					value="#{wpdController.empPool}" editable="true"
					style="margin-bottom:20px">
					<f:facet name="header">
       		 				List of Employees
    				</f:facet>
					<p:column headerText="Emp No">
						<h:outputText value="#{emp.empNumber}" />
					</p:column>
					<p:column headerText="User Name">
						<h:outputText value="#{emp.userName}" />
					</p:column>
					<p:column headerText="Supervisor">
						<h:outputText value="#{wpdController.getEmployeeByNo(emp.superEmpNo).userName}" />
					</p:column>
					<p:column headerText="State">
						<h:outputText value="#{emp.state}" />
					</p:column>
					
				</p:dataTable>

			</p:panel>








		</ui:define>
	</ui:composition>
</h:body>
</html>
